window.requestAnimFrame=(function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){window.setTimeout(callback,1000/60);};})();window.onload=function(){var canvasWrap=document.querySelector('#canvas-wrap');var canvas=document.querySelector('#canvas-container');var ctx=canvas.getContext('2d');var center={};var dots=[];if((navigator.userAgent.indexOf('iPhone')>0)||navigator.userAgent.indexOf('iPod')>0||navigator.userAgent.indexOf('Android')>0){var density=30;}else{var density=50;}
var colors=['#666','#444','#222'];var baseSize=0.01;var baseSpeed=20;var Dot=function(){this.size=Math.floor(Math.random()*2.5)+baseSize;this.color=colors[~~(Math.random()*3)];this.speed=10000;this.pos={x:Math.random()*canvas.width,y:Math.random()*canvas.height};var rot=Math.random()*360;var angle=rot*Math.PI/180;this.vec={x:Math.cos(angle),y:Math.sin(angle)};};Dot.prototype={update:function(){this.draw();this.pos.x+=this.vec.x;this.pos.y+=this.vec.y;if(this.pos.x>canvas.width+10){this.pos.x=-5;}else if(this.pos.x<0-10){this.pos.x=canvas.width+5;}else if(this.pos.y>canvas.height+10){this.pos.y=-5;}else if(this.pos.y<0-10){this.pos.y=canvas.height+5;}},draw:function(){ctx.fillStyle=this.color;ctx.beginPath();ctx.arc(this.pos.x,this.pos.y,this.size,0,2*Math.PI,false);ctx.fill();}};function update(){requestAnimFrame(update);ctx.clearRect(0,0,ctx.canvas.width,ctx.canvas.height);for(var i=0;i<density;i++){dots[i].update();}}
function init(){canvas.setAttribute("width",canvasWrap.offsetWidth);canvas.setAttribute("height",canvasWrap.offsetHeight);center.x=canvas.width/2;center.y=canvas.height/2;for(var i=0;i<density;i++){dots.push(new Dot());}
update();}
init();}